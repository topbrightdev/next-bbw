{
  "ast": null,
  "code": "var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { Button } from 'react-bootstrap';\nimport algoliasearch from 'algoliasearch';\nconst defaultStates = [// { value: 'sp', label: 'Singapore' },\n{\n  value: 'ws',\n  label: 'Washington'\n} // { value: 'usa', label: 'United States of America' },\n// { value: 'uae', label: 'United Arab Emirates' },\n// { value: 'pk', label: 'Pakistan' },\n];\n\nconst Search = props => {\n  const {\n    businesses,\n    partners,\n    parentCallback\n  } = props;\n  const {\n    0: query,\n    1: setQuery\n  } = useState('');\n  const router = useRouter();\n\n  const SendBusinesses = query => {\n    const client = algoliasearch(process.env.ALGOLIA_APP_ID, process.env.ALGOLIA_API_KEY);\n    const index = client.initIndex(process.env.ALGOLIA_INDEX_NAME);\n    let companies = index.search(query).then(({\n      hits\n    }) => {\n      return hits;\n    }).catch(err => {\n      console.log(err);\n    });\n    return companies;\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let companies = await SendBusinesses(query);\n\n    if (parentCallback) {\n      parentCallback(companies);\n    }\n\n    if (businesses) {\n      router.push({\n        pathname: '/businesses',\n        query: {\n          q: query\n        }\n      });\n    }\n\n    if (partners) {\n      router.push({\n        pathname: '/partners',\n        query: {\n          q: query\n        }\n      });\n    }\n  };\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  return __jsx(\"div\", {\n    className: \"pt-12\"\n  }, __jsx(\"form\", {\n    id: \"search\",\n    action: \"/\",\n    className: \"search-form\",\n    \"data-aos\": \"fade-right\",\n    \"data-aos-duration\": \"1000\",\n    \"data-aos-dealy\": \"1200\",\n    onSubmit: handleSubmit\n  }, __jsx(\"div\", {\n    className: \"filter-search-form-2 bg-white rounded-sm shadow-4 pr-5 py-5 pl-5\"\n  }, __jsx(\"div\", {\n    className: \"filter-inputs\"\n  }, __jsx(\"div\", {\n    className: \"form-group position-relative\"\n  }, __jsx(\"input\", {\n    className: \"form-control focus-reset pl-13 w-100\",\n    type: \"text\",\n    id: \"keyword\",\n    placeholder: \"Type Industry keywords\",\n    value: query,\n    onChange: handleChange\n  }), __jsx(\"span\", {\n    className: \"h-100 w-px-50 pos-abs-tl d-flex align-items-center justify-content-center font-size-6\"\n  }, __jsx(\"i\", {\n    className: \"icon icon-zoom-2 text-primary font-weight-bold\"\n  })))), __jsx(\"div\", {\n    className: \"button-block\"\n  }, __jsx(Button, {\n    className: \"line-height-reset h-100 btn-submit w-100 text-uppercase\",\n    type: \"submit\",\n    form: \"search\",\n    value: \"Submit\"\n  }, \"Search\")))));\n};\n\nexport default Search;",
  "map": null,
  "metadata": {},
  "sourceType": "module"
}
