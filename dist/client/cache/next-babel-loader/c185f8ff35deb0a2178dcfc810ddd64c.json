{
  "ast": null,
  "code": "import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _styled from \"styled-components\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport PageWrapper from '../components/PageWrapper';\nimport Search from '../components/Search';\nimport { Select } from '../components/Core';\nimport { useRouter } from 'next/router';\nimport SearchTab from '../sections/search/SearchTab';\nimport { db } from '../config/firebase.js';\nimport { filter } from 'lodash';\nvar defaultCountries = [{\n  value: 'sp',\n  label: 'Singapore'\n}, {\n  value: 'bd',\n  label: 'Bangladesh'\n}, {\n  value: 'usa',\n  label: 'United States of America'\n}, {\n  value: 'uae',\n  label: 'United Arab Emirates'\n}, {\n  value: 'pk',\n  label: 'Pakistan'\n}];\nvar defaultIndustries = [{\n  value: 'Electric Utilities',\n  label: 'Electric'\n}, {\n  value: 'Finance & Insurance Sector',\n  label: 'Finance'\n}, {\n  value: 'Health Care Sector',\n  label: 'Health Care'\n}, {\n  value: 'Manufacturing Sector',\n  label: 'Manufacturing'\n}];\nvar defaultSalaryRange = [{\n  value: '5k',\n  label: '< 5k'\n}, {\n  value: '5k10k',\n  label: '5k - 10k'\n}, {\n  value: '10k20k',\n  label: '10k - 20k'\n}, {\n  value: '20k',\n  label: '> 20k'\n}];\nvar defaultExpLevels = [{\n  value: 'entry',\n  label: 'Entry'\n}, {\n  value: 'jn',\n  label: 'Junior'\n}, {\n  value: 'mid',\n  label: 'Mid Level'\n}, {\n  value: 'sr',\n  label: 'Sinior'\n}];\nvar defaultPostedTimes = [{\n  value: 'jan',\n  label: 'January'\n}, {\n  value: 'May',\n  label: 'May'\n}, {\n  value: 'Jul',\n  label: 'July'\n}, {\n  value: 'Oct',\n  label: 'October'\n}];\n\nvar _StyledSelect = _styled(Select).withConfig({\n  displayName: \"businesses___StyledSelect\",\n  componentId: \"jz2xsb-0\"\n})([\"min-width:175px;\"]);\n\nvar SearchGrid = function SearchGrid(_ref) {\n  var companies = _ref.companies;\n\n  var _useState = useState(companies),\n      blackBusinesses = _useState[0],\n      setBlackBusinesses = _useState[1];\n\n  var router = useRouter();\n\n  var getFirebaseCollectionWithFilter = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(filters) {\n      var filterCollection;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return db.collection('companies').where('primary_industry', 'in', filters).get().then(function (res) {\n                return res.docs.map(function (entry) {\n                  return entry.data();\n                });\n              })[\"catch\"](function (err) {\n                return console.log(\"ERROR\", err);\n              });\n\n            case 2:\n              filterCollection = _context.sent;\n              return _context.abrupt(\"return\", filterCollection);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getFirebaseCollectionWithFilter(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getFilters = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(filters) {\n      var filteredBusinesses;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(filters.label !== \"Industries\")) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 3;\n              return getFirebaseCollectionWithFilter(filters.value);\n\n            case 3:\n              filteredBusinesses = _context2.sent;\n              setBlackBusinesses(filteredBusinesses);\n              _context2.next = 8;\n              break;\n\n            case 7:\n              setBlackBusinesses(companies);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getFilters(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var callBackFunction = function callBackFunction(companies) {\n    setBlackBusinesses(companies);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(PageWrapper, null, __jsx(\"div\", {\n    className: \"bg-black-2 mt-20 mt-lg-22 pt-1 pt-lg-5 pb-10\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(Search, {\n    businesses: true,\n    parentCallback: callBackFunction\n  }))))), __jsx(\"div\", {\n    className: \"bg-default-1 pt-9 pb-13 pb-xl-30 pb-13 position-relative overflow-hidden\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\"\n  }, __jsx(\"div\", {\n    className: \"col-12 col-lg-10 col-xl-12\"\n  }, router.query.q && router.query.q.length > 0 && __jsx(\"h2\", {\n    className: \"font-size-8 mb-6\"\n  }, \"You\\u2019re searching \\\"\", router.query.q.charAt(0).toUpperCase() + router.query.q.slice(1), \"\\\"\"), __jsx(\"form\", {\n    className: \"mb-8\"\n  }, __jsx(\"div\", {\n    className: \"search-filter from-group d-flex align-items-center flex-wrap\"\n  }, __jsx(\"div\", {\n    className: \"mr-5 mb-5\"\n  }, __jsx(_StyledSelect, {\n    // options={defaultIndustries}\n    className: \"font-size-4\" // border={false}\n    ,\n    sendFilters: getFilters\n  })))), __jsx(\"div\", {\n    className: \"d-flex align-items-center justify-content-between mb-6\"\n  }, __jsx(\"h5\", {\n    className: \"font-size-4 font-weight-normal text-gray\"\n  }, \"Showing\", __jsx(\"span\", {\n    className: \"text-black-2 pl-1\"\n  }, blackBusinesses.length), ' ', \"matched businesses\")))), __jsx(SearchTab, {\n    businesses: blackBusinesses\n  })))));\n};\n\nexport var __N_SSP = true;\nexport default SearchGrid;",
  "map": null,
  "metadata": {},
  "sourceType": "module"
}
